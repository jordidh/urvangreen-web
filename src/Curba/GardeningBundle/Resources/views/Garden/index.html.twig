{% extends "CurbaGardeningBundle::layout.html.twig" %}

{% block body_header %}
{% endblock %}

{% block body_content %}
    <h1>Garden {{ garden.name }}</h1>
    {% for zone in zonesAndCropsAndActions %}
        <h2>Zone {{ zone[0] }}</h2>

        <table class="plant">
            <tr>
                <th class="plant">Crop</th>
                <th class="plant">Plantation date</th>
                <th class="plant">Num. plants</th>
                <th class="plant">Do</th>
            </tr>
            {% for crop in zone[1] %}
            <tr>
                <th>{{ crop[0] }}</th>
                <td>{{ crop[0].getInitialRealDate()|date("Y-M-d") }}</td>
                <td>{{ crop[0].getNumPlants() }}</td>
                <td>
                    <a href="{{ path('garden_harvest', { 'id': crop[0].id }) }}">Harvest</a> |
                    <a href="{{ path('garden_watering', { 'id': crop[0].id }) }}">Watering</a> |
                    <a href="{{ path('garden_prune', { 'id': crop[0].id }) }}">Prune</a> |
                    <a href="{{ path('garden_finish_crop', { 'id': crop[0].id }) }}">Finish</a>
                </td>
            </tr>
                {% for action in crop[1] %}
                <tr>
                    <th></th>
                    <td></td>
                    <td></td>
                    <td>{{ action.getCreatedAt()|date("Y-M-d H:i:s") }} {{ action.getActionType() }} {{ action.description }}: {{ action.quantityB }} {{ action.quantityA }}</td>
                </tr>
                {% endfor %}
            {% endfor %}
        </table> 

    {% endfor %}        
{% endblock %}

{% block body_lateral %}
<br/>
<a href="{{ path('main') }}">Main</a>
{% endblock %}

{% block body_footer %}
{% endblock %}